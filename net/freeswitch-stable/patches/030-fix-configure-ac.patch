--- a/configure.ac
+++ b/configure.ac
@@ -256,30 +256,6 @@ AX_COMPILER_VENDOR
 # Set CC_FOR_BUILD
 if test "x${cross_compiling}" = "xyes"; then
     CC_FOR_BUILD=${CC_FOR_BUILD-gcc}
-    case "$host" in
-    	 arm*-linux-gnueabi*|arm*-*-linux-gnueabi*)
-		# spandsp modem
-		ac_cv_file__dev_ptmx=yes
-		# libjs
-		export ac_cv_va_copy=yes
-		# srtp
-		export ac_cv_file__dev_urandom=yes
-		# rpl_malloc
-		export ac_cv_func_realloc_0_nonnull=yes
-		export ac_cv_func_malloc_0_nonnull=yes
-		# apr
-		export ac_cv_func_setpgrp_void=yes
-		export ac_cv_file__dev_zero=yes
-		export apr_cv_tcp_nodelay_with_cork=yes
-		export ac_cv_file_dbd_apr_dbd_mysql_c=no
-		export ac_cv_sizeof_ssize_t=4
-		export apr_cv_mutex_recursive=yes
-		export ac_cv_func_pthread_rwlock_init=yes
-		export apr_cv_type_rwlock_t=yes
-		export apr_cv_process_shared_works=yes
-		export apr_cv_mutex_robust_shared=yes
-	 ;;
-    esac
 else
     CC_FOR_BUILD='$(CC)'
 fi
@@ -667,7 +643,7 @@ AC_ARG_ENABLE(core-pgsql-pkgconfig,
 	[AS_HELP_STRING([--disable-core-pgsql-pkgconfig], [Use pg_config to get PGQSL build options])],[enable_core_pgsql_pkgconfig="$enableval"],[enable_core_pgsql_pkgconfig="yes"])
 
 if test x"$enable_core_pgsql_support" = x"yes" ; then
-  AC_PATH_PROG([PG_CONFIG], [pg_config], [no])
+  AC_PATH_PROG([PG_CONFIG], [pg_config], [no], ["$PATH:${STAGING_DIR}/usr/bin"])
   AC_PATH_PROG([PKG_CONFIG], [pkg-config], [no])
     if test "$PKG_CONFIG" = "no" \
        || test x"$enable_core_pgsql_pkgconfig" = x"no" \
@@ -1273,17 +1249,38 @@ module_enabled() {
   grep -v -e "\#" -e "^\$" modules.conf | sed -e "s|^.*/||" | grep "^${1}\$" >/dev/null
 }
 
+AC_ARG_WITH(png,
+  [AS_HELP_STRING([--without-png],
+    [disable support for libpng])],
+  [with_png="$withval"],
+  [with_png="yes"])
+
+if test "$with_png" = "yes"; then
+  PKG_CHECK_MODULES([LIBPNG], [libpng >= 1.6.16],[
+    AM_CONDITIONAL([HAVE_PNG],[true])],[
+      PKG_CHECK_MODULES([LIBPNG], [libpng16 >= 1.6.16],[
+        AM_CONDITIONAL([HAVE_PNG],[true])],[
+          PKG_CHECK_MODULES([LIBPNG], [libpng >= 1.2.49],[
+            AM_CONDITIONAL([HAVE_PNG],[true])],[
+            AC_MSG_RESULT([no]); AM_CONDITIONAL([HAVE_PNG],[false])])])])
+else
+  AM_CONDITIONAL([HAVE_PNG],[false])
+fi
+
+AC_ARG_WITH(freetype,
+  [AS_HELP_STRING([--without-freetype],
+    [disable support for freetype])],
+  [with_freetype="$withval"],
+  [with_freetype="yes"])
+
+if test "$with_freetype" = "yes"; then
+  PKG_CHECK_MODULES([FREETYPE], [freetype2 >= 2.4.9],[
+    AM_CONDITIONAL([HAVE_FREETYPE],[true])],[
+    AC_MSG_RESULT([no]); AM_CONDITIONAL([HAVE_FREETYPE],[false])])
+else
+  AM_CONDITIONAL([HAVE_FREETYPE],[false])
+fi
 
-PKG_CHECK_MODULES([LIBPNG], [libpng >= 1.6.16],[
-  AM_CONDITIONAL([HAVE_PNG],[true])],[
-    PKG_CHECK_MODULES([LIBPNG], [libpng16 >= 1.6.16],[
-      AM_CONDITIONAL([HAVE_PNG],[true])],[
-        PKG_CHECK_MODULES([LIBPNG], [libpng >= 1.2.49],[
-          AM_CONDITIONAL([HAVE_PNG],[true])],[
-          AC_MSG_RESULT([no]); AM_CONDITIONAL([HAVE_PNG],[false])])])])
-PKG_CHECK_MODULES([FREETYPE], [freetype2 >= 2.4.9],[
-  AM_CONDITIONAL([HAVE_FREETYPE],[true])],[
-  AC_MSG_RESULT([no]); AM_CONDITIONAL([HAVE_FREETYPE],[false])])
 PKG_CHECK_MODULES([SQLITE], [sqlite3 >= 3.6.20])
 PKG_CHECK_MODULES([CURL], [libcurl >= 7.19])
 PKG_CHECK_MODULES([PCRE], [libpcre >= 7.8])
